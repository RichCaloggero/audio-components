<!--<link rel="import" href="../polymer/lib/elements/dom-if.html">-->
<!--<link rel="import" href="../polymer/lib/elements/dom-repeat.html">-->

<dom-module id="audio-equalizer">
<template>
<style>
:host {
display: block;
}

:host .field {
display: inline;
}

</style>

<div class="audio-equalizer" role="region" aria-label$="[[label]]">
<span class="label">[[label]]</span>

<ui-boolean name="bypass" value="{{bypass}}"></ui-boolean>
<ui-number name="q" label="Q" value="{{q}}" min="0.1" max="5.0" step="0.1"></ui-number>

<audio-parallel>
<audio-filter label="50" frequency="50" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>
<audio-filter label="100" frequency="100" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>
<audio-filter label="200" frequency="200" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>
<audio-filter label="400" frequency="400" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>
<audio-filter label="800" frequency="800" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>

<audio-filter label="1K" frequency="1000" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>
<audio-filter label="2K" frequency="2000" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>
<audio-filter label="4K" frequency="4000" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>
<audio-filter label="8K" frequency="8000" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>
<audio-filter label="16K" frequency="16000" q="4.3" type="peaking" gain="0" hide-controls="bypass q type frequency detune"></audio-filter>
</audio-parallel>

</div>
</template>

<script>
// audio-equalizer
"use strict";

(function () {
var instanceCount  = 0;

class AudioEqualizer extends _AudioContext_ {
static get is() { return "audio-equalizer"; }

static get properties () {
return {
label: {
type: String,
value: ""
}, // label

bypass: {
type: Boolean,
value: false,
notify: true,
observer: "_bypass"
} // bypass

}; // return
} // get properties


constructor () {
super ();
instanceCount += 1;
this._id = AudioEqualizer.is + instanceCount;
this._init ();
console.log (`constructor: ${this.id} created`);
} // constructor

connectedCallback () {
super.connectedCallback ();
this.addFieldLabels ();
this.connectAll ();
} // connectedCallback

connectAll () {
var processor = this.shadowRoot.querySelector("audio-parallel");
this._audioIn.connect (processor._in);
processor._out.connect (this._audioOut);
} // connectAll

} // class AudioEqualizer


window.customElements.define(AudioEqualizer.is, AudioEqualizer);
})();
</script>
</dom-module>
