<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>native shadow input test</title>
</head>
<body>
<fieldset><legend>Test One</legend>
<t-1 shadow>
<t-2 shadow></t-2>
<t-3 shadow></t-3>
<t-2 shadow></t-2>
</t-1>
</fieldset>

<hr>

<fieldset><legend>Test two</legend>
<t-1 shadow>
<t-2 shadow></t-2>
<t-3 shadow></t-3>
<t-2 shadow></t-2>
</t-1>
</fieldset>

<script type="module">
let t1count = 0, t2count = 0, t3count = 0;

class T1 extends HTMLElement {
static get template () {return _template();}

constructor () {
super ();
t1count += 1;
this.level = 1;
this.id = `t1-${t1count}`;
} // constructor

connectedCallback () {
const dom = this.hasAttribute("shadow")? this.attachShadow({mode: "open"}) : this;
dom.innerHTML = _template.call(this);
} // connectedCallback
} // class T1

class T2 extends HTMLElement {
static get template () {return _template();}

constructor () {
super ();
t2count += 1;
this.level = 2;
this.id = `t2-${t2count}`;
} // constructor

//_attachDom (dom) {this.appendChild(dom);}
connectedCallback () {
const dom = this.hasAttribute("shadow")? this.attachShadow({mode: "open"}) : this;
dom.innerHTML = _template.call(this);
} // connectedCallback
} // class T2

class T3 extends HTMLElement {
static get template () {return _template();}

constructor () {
super ();
t3count += 1;
this.level = 3;
this.id = `t3-${t3count}`;
} // constructor

//_attachDom (dom) {this.appendChild(dom);}
connectedCallback () {
const dom = this.hasAttribute("shadow")? this.attachShadow({mode: "open"}) : this;
dom.innerHTML = _template.call(this);
} // connectedCallback
} // class T3


customElements.define("t-1", T1);
customElements.define("t-2", T2);
customElements.define("t-3", T3);

function _template () {
return `
<div>
<div role="heading" aria-level="${this.level}">${this.id}</div>
<label>label ${this.id}: <input></label>
<slot></slot>
</div>
`; // html
} // _template


</script>


</body>
</html>
