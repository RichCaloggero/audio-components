<!doctype html>
<head>
<meta charset="utf-8">
<title>Tapped delay test</title>
<!--<script src="./resonance-audio.min.js" crossorigin="anonymous"></script>-->
<script src="offline-context.js"></script>
<script src="loader.js"></script>
</head>
<body>

<audio-context hide="bypass" label="tapped delay test" shortcuts="enableAutomation alt shift r">
<audio-series>
<audio-player label="player" shortcuts="src alt shift u" src="media/snare.wav"></audio-player>

<audio-series mix="0.5" feed-forward>
<audio-series><audio-delay delay="0.3"></audio-delay><audio-gain gain="0.5"></audio-gain></audio-series>
<audio-series><audio-delay delay="0.3"></audio-delay><audio-gain gain="0.5"></audio-gain></audio-series>
<audio-series><audio-delay delay="0.3"></audio-delay><audio-gain gain="0.5"></audio-gain></audio-series>
<audio-series><audio-delay delay="0.3"></audio-delay><audio-gain gain="0.5"></audio-gain></audio-series>
<audio-series><audio-delay delay="0.3"></audio-delay><audio-gain gain="0.5"></audio-gain></audio-series>
</audio-series>

<audio-destination></audio-destination>
</audio-series>
</audio-context>

<!--<script>
document.querySelector("#delay").addEventListener("change", e => {
const value = e.target.value;

document.querySelectorAll("audio-delay").forEach((delay, i) => delay.setAttribute("delay", (i+1)*value));
});

document.querySelector("#delay").dispatchEvent(new Event("change"));

document.querySelectorAll ("audio-parallel audio-gain")
.forEach ((g, i) => {
const gain = 0.3 - .1*i;
g.setAttribute("gain", isEven(i)? -1*gain :gain);
});

function isEven(n) {return n%2 === 0;}
function isOdd(n) {return !isEven(n);}

</script>
-->

</body>
</html>
